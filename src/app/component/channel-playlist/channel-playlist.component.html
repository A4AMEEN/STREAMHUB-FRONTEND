<!-- eslint-disable @angular-eslint/template/interactive-supports-focus -->
<!-- eslint-disable @angular-eslint/template/click-events-have-key-events -->
<div class="flex justify-between items-center mb-4">
    <div class="flex space-x-2">
      <div *ngFor="let playlist of playlists; let i = index; trackBy: trackByPlaylistId"
           class="bg-[#1f1f1f] rounded-lg overflow-hidden flex-shrink-0 w-64 transform hover:scale-105 transition-all duration-300 shadow-xl animate-fade-in"
           [style.animation-delay]="i * 100 + 'ms'">
        <div class="relative">
          <img [src]="playlist.thumbnail" class="w-full aspect-video object-cover" alt="Playlist thumbnail">
          <div class="absolute bottom-2 right-2 bg-black bg-opacity-75 text-white text-xs font-semibold px-2 py-1 rounded">
            {{ playlist.videos.length }} videos
          </div>
          <div class="absolute inset-0 cursor-pointer" (click)="showPlaylistVideos(playlist)"></div>
        </div>
        <div class="p-3">
          <div class="flex justify-between items-center">
            <h3 class="text-lg font-bold text-gray-300 cursor-pointer truncate" (click)="showPlaylistVideos(playlist)">
              {{ playlist.name }}
            </h3>
            <button (click)="openAddVideoModal(playlist)" [disabled]="channel.isRestricted" [ngClass]="{
                      'bg-blue-600 hover:bg-blue-700': !channel.isRestricted,
                      'bg-gray-400 cursor-not-allowed': channel.isRestricted
                    }" class="text-white px-3 py-1 rounded-full text-sm"
              [title]="channel.isRestricted ? 'Channel is restricted. Adding videos is disabled.' : ''">
              <i class="fas fa-plus"></i> Add
            </button>
          </div>
          <p class="text-gray-400 text-sm mt-1">Created {{ playlist.createdAt }}</p>
          <div class="flex mt-2 space-x-2">
            <button (click)="togglePlaylistVisibility(playlist)" class="px-3 py-1 rounded text-sm"
              [ngClass]="playlist.isPublic ? 'bg-red-500 hover:bg-red-600' : 'bg-green-500 hover:bg-green-600'">
              {{ playlist.isPublic ? 'Private' : 'Public' }}
            </button>
            <button (click)="openEditPlaylistModal(playlist)"
              class="px-3 py-1 rounded text-sm bg-yellow-500 hover:bg-yellow-600">
              <i class="fas fa-edit"></i> Edit
            </button>
            <button (click)="deletePlaylist(playlist._id)"
              class="px-3 py-1 rounded text-sm bg-red-500 hover:bg-red-600">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>