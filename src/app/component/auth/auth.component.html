<!-- auth.component.html -->
<div class="min-h-screen flex items-center justify-center bg-gray-900">
    <div class="max-w-md w-full bg-gray-800 p-8 rounded-lg shadow-lg">
      <h2 class="text-3xl font-bold mb-8 text-white">{{ mode === 'login' ? 'Login' : 'Sign Up' }}</h2>
      <form [formGroup]="authForm" (ngSubmit)="onSubmit()">
        <div *ngIf="mode === 'signup'" class="mb-4">
          <label for="name" class="block text-white text-sm font-semibold mb-2">Name</label>
          <input type="text" id="name" formControlName="name" (keypress)="filterInput($event)" class="w-full px-3 py-2 rounded-md bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500 placeholder-gray-500" placeholder="Enter your name">
          <div *ngIf="authForm.get('name')?.invalid && (authForm.get('name')?.dirty || authForm.get('name')?.touched)" class="error-message">
            <span *ngIf="authForm.get('name')?.errors?.['required']">Name is required.</span>
            <span *ngIf="authForm.get('name')?.errors?.['invalidName']">Name must only contain alphabets.</span>
          </div>
          <div *ngIf="special" class="error-message">{{ special }}</div>
        </div>
  
        <div class="mb-4">
          <label for="email" class="block text-white text-sm font-semibold mb-2">Email</label>
          <input type="text" id="email" formControlName="email" class="w-full px-3 py-2 rounded-md bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500 placeholder-gray-500" placeholder="Enter your email">
          <div *ngIf="authForm.get('email')?.invalid && (authForm.get('email')?.dirty || authForm.get('email')?.touched)" class="error-message">
            <span *ngIf="authForm.get('email')?.errors?.['required']">Email is required.</span>
            <span *ngIf="authForm.get('email')?.errors?.['email']">Enter a valid email.</span>
          </div>
        </div>
  
        <div class="mb-4">
          <label for="password" class="block text-white text-sm font-semibold mb-2">Password</label>
          <input [type]="passwordHidden ? 'password' : 'text'" id="password" formControlName="password" class="w-full px-3 py-2 rounded-md bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500 placeholder-gray-500" placeholder="Enter your password">
          <div *ngIf="authForm.get('password')?.invalid && (authForm.get('password')?.dirty || authForm.get('password')?.touched)" class="error-message">
            <span *ngIf="authForm.get('password')?.errors?.['required']">Password is required.</span>
            <span *ngIf="authForm.get('password')?.errors?.['weakPassword']">
              Password must be at least 8 characters long, contain at least one special character and one number.
            </span>
          </div>
        </div>
  
        <div *ngIf="mode === 'signup'" class="mb-6">
          <label for="confirmPassword" class="block text-white text-sm font-semibold mb-2">Confirm Password</label>
          <input [type]="passwordHidden ? 'password' : 'text'" id="confirmPassword" formControlName="confirmPassword" class="w-full px-3 py-2 rounded-md bg-gray-700 border border-gray-600 focus:outline-none focus:border-blue-500 placeholder-gray-500" placeholder="Confirm your password">
          <div *ngIf="authForm.get('confirmPassword')?.invalid && (authForm.get('confirmPassword')?.dirty || authForm.get('confirmPassword')?.touched)" class="error-message">
            <span *ngIf="authForm.errors?.['mismatch']">Passwords must match.</span>
          </div>
        </div>
  
        <div *ngIf="mode === 'login'" class="flex items-center justify-between mb-6">
          <a routerLink="/auth/otp" class="text-sm text-blue-500 hover:text-blue-700">Forgot Password?</a>
        </div>
  
        <button type="submit"
          [disabled]="authForm.invalid"
          class="w-full bg-blue-500 text-white px-4 py-2 rounded-md font-semibold transition duration-300 ease-in-out hover:bg-blue-700 focus:outline-none focus:bg-blue-700">
          <span class="font-bold">{{ mode === 'login' ? 'Login' : 'Sign Up' }}</span>
        </button>
      </form>
  
      <div class="mt-4 text-sm text-gray-300">
        {{ mode === 'login' ? "Don't have an account?" : "Already have an account?" }}
        <a [routerLink]="mode === 'login' ? '/auth/signup' : '/auth/login'" class="text-blue-500 hover:text-blue-700">
          {{ mode === 'login' ? 'Sign up here' : 'Login here' }}
        </a>
      </div>
  
      <div *ngIf="mode === 'login'">
        <a href="#" (click)="googleAuth($event)">
          <button class="w-full mt-4 bg-red-600 text-white px-4 py-2 rounded-md font-semibold transition duration-300 ease-in-out hover:bg-red-700 focus:outline-none focus:bg-red-700">
            Login with Google
          </button>
        </a>
      </div>
  
      <div *ngIf="errorMessage" class="mt-4 text-red-500">{{ errorMessage }}</div>
    </div>
  </div>